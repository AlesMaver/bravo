{% extends "layout.html" %}
{% block body %}
<div class="container" style="margin-top: 3em">
    {% if success %}
    <div class="alert alert-success" role="alert"><strong>Your settings were updated!</strong></div>
    {% else %}
    <div class="row text-center">
        {% if error %}
         <div class="alert alert-danger" role="alert">{{ error }}</div>
        {% endif %}
    </div>
    <div class="row" style="font-size: 120%;">
        <div class="col-sm-offset-2 col-sm-8">
            <h1 style="margin-bottom: 1em">Settings</h1>
        </div>
    </div>
    <form class="form-horizontal" role="form" action="{{ url_for('.user_profile_page') }}" method="post">
        <div class="form-group">
            <div class="col-sm-offset-2 col-sm-8">
                 <div class="checkbox">
                    <label>
                        <input type="checkbox" name="enabled_api" onclick="$('#google_client_id').prop('disabled', !$(this).is(':checked'))" {{ "checked" if current_user.enabled_api }}> Enable API access with Google OAuth 2.0.
                    </label>
                 </div>         
            </div>
        </div>
        <div class="form-group">
            <div class="col-sm-offset-2 col-sm-8">
                <input type="text" class="form-control" name="google_client_id" id="google_client_id" placeholder="Enter Google Client ID" {{ "value=" + current_user.google_client_id if current_user.google_client_id }} {{ "disabled" if not current_user.enabled_api }}>
            </div>
        </div>
        <div class="form-group">
            <div class="col-sm-offset-2 col-sm-8">
                <div class="checkbox">
                    <label>
                        <input type="checkbox" name="no_newsletters" {{ "checked" if current_user.no_newsletters }}> I don't want to receive e-mails with information about Bravo updates or surveys.
                    </label>
                </div>
            </div>
        </div>
        <div class="form-group">
            <div class="col-sm-offset-2 col-sm-8">
                <hr>
                <button type="submit" class="btn btn-default">Submit</button>
            </div>
        </div>
    </form> 
    {% endif %} 
</div>


{% endblock %}
